<!DOCTYPE html><html lang="en"><head prefix="og: http://ogp.me/ns#"><title>Set up Continuous Integration and Continuous Deployment for a Django app with Jenkins</title><link rel="stylesheet" href="/static/css/main.css"><link rel="stylesheet" href="/static/css/pygment.css"><link rel="stylesheet" href="/static/css/font-awesome.min.css"><link href="//fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/static/vendor/lightbox2/css/lightbox.min.css"><link href="https://afeld.github.io/emoji-css/emoji.css" rel="stylesheet"><link rel="shortcut icon" type="image/png" href="/static/images/favicon.png"><meta name="google-site-verification" content="RhKly6bfyZ4vo03CPdY9f-Bg8CuZA0GhTPvCEPsNa2c"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="<p>How to set up CI and CD for a Django app with Jenkins</p>"><meta name="author" content="Jahongir Rahmonov"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta property="og:title" content="Set up Continuous Integration and Continuous Deployment for a Django app with Jenkins"><meta property="og:type" content="website"><meta property="og:image" content="/static/images/programming.jpg"><meta property="og:url" content="http://rahmonov.me/posts/continuous-integration-and-continous-deployment-for-django-app-with-jenkins/"><meta property="og:description" content="<p>How to set up CI and CD for a Django app with Jenkins</p>"><link href="http://rahmonov.me/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="Jahongir Rahmonov Full Atom Feed"><link href="http://rahmonov.me/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Jahongir Rahmonov Full RSS Feed"><link href="http://rahmonov.me/feeds/python.atom.xml" type="application/atom+xml" rel="alternate" title="Jahongir Rahmonov Categories Atom Feed"><meta name="description" content="<p>How to set up CI and CD for a Django app with Jenkins</p>"><meta name="tags" content="python"><meta name="tags" content="django"><meta name="tags" content="digitalocean"><meta name="tags" content="ci"><meta name="tags" content="cd"><meta name="tags" content="jenkins"><link href="https://unpkg.com/ilyabirman-likely@2/release/likely.css" rel="stylesheet"><script src="https://unpkg.com/ilyabirman-likely@2/release/likely.js" type="text/javascript"></script></head><body id="index" class="home"><div class="container"><button class="nav js-mobile"><i class="fa fa-bars"></i></button><div class="side"><div class="logo"><a href="/"><img src="/static/images/me.jpg" width="150" height="150" class="jahon" alt="Jahongir Rahmonov"></a></div><h2>Jahongir Rahmonov</h2><div class="paragraphs"><p> I'm a Software Developer at <a href="http://mysuperdispatch.com/">Super Dispatch (TechStars '16)</a>. Avid reader. <a href="http://wiut.uz/">WIUT</a> graduate. Blogger and an amateur speaker </p><p> I write about Python, Django, AngularJS and sometimes something non-technical. </p><p> Welcome to my corner <i class="em em-snake"></i></p> </div><form method="get" action="https://www.google.com/search"><input name="sitesearch" value="rahmonov.me" type="hidden"><input type="text" id="search-query" class="field field-text" required name="q" placeholder="Search..." autocomplete="off"><input type="image" src="/static/images/search-icon.png" width="20" height="20" class="search-icon" title="Search via Google" alt="Search via Google"></form><ul class="menu"><li><a href="/">Home</a></li><li><a href="/pages/about.html">About</a></li><li><a href="/pages/about.html#subscribe">Subscribe</a></li><li><a href="/pages/about.html#contact">Contact</a></li><li><a href="/feeds/atom.xml">RSS <i class="fa fa-rss"></i></a></li></ul><p class="profiles"><a title="GitHub" href="https://github.com/rahmonov"><i class="fa fa-github-square"></i></a><a title="StackOverflow" href="https://stackoverflow.com/users/4137194/jahongir-rahmonov?tab=profile"><i class="fa fa-stack-overflow"></i></a><a title="Twitter" href="https://twitter.com/the_rahmonov"><i class="fa fa-twitter-square"></i></a><a title="Facebook" href="https://www.facebook.com/rahmonovj"><i class="fa fa-facebook-official"></i></a><a title="Instagram" href="https://www.instagram.com/rahmonov.me/"><i class="fa fa-instagram"></i></a><a title="LinkedIn" href="https://www.linkedin.com/in/jahongirrahmonov"><i class="fa fa-linkedin-square"></i></a></p></div><div class="wrap"><div class="content"><h4>Sun 02 April 2017</h4><h1>Set up Continuous Integration and Continuous Deployment for a Django app with Jenkins</h1><div class="entry-content"><p>In this post, we are going to do something really cool. We are going to set up a CI and CD server for a django app with the help of <a href="https://jenkins.io/">Jenkins</a>. But first, let's see why we need such a server.</p><p>In the <a href="http://rahmonov.me/posts/deploy-a-django-app-to-digitalocean/">previous post</a>, we deployed <a href="https://github.com/rahmonov/djtrump">our application</a> to Digital Ocean and now it is up and running:</p><div class="gallery large"><a href="/static/images/post-images/django-digitalocean/donald.png" rel="lightbox" title="DJDonald"><img src="/static/images/post-images/django-digitalocean/donald.png" alt="DJDonald"><span>Donald Trump and one of his quotes</span></a></div><p>Now, let's try to update it.</p><p>By the way, to follow along this tutorial you should fork <a href="https://github.com/rahmonov/djtrump">this repo</a> if you didn't do so in the previous post. The reason is that we will play around with the app to see our CI and CD server in play later on.</p><p>OK, now let's go ahead and change something in the template file <code>djtrump/templates/djtrump/index.html</code>. Find the input element whose placeholder says <em>Your name</em> and change it to <em>Type your name</em>:</p><div class="highlight"><pre><span></span><span class="c1"># Change this</span>
<span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Your name&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ name }}&quot;</span><span class="o">&gt;</span>

<span class="c1"># to this</span>
<span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Type your name&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ name }}&quot;</span><span class="o">&gt;</span>
</pre></div><p>Commit the change and push it to the remote repo:</p><div class="highlight"><pre><span></span>git commit -am <span class="s1">&#39;Change input placeholder&#39;</span>
git push origin master
</pre></div><p>Now, <em>ssh</em> into your server:</p><div class="highlight"><pre><span></span>ssh root@104.236.57.112   // change this to the IP address of your own server
</pre></div><p>Go to the project folder and pull the new code from the repo:</p><div class="highlight"><pre><span></span><span class="nb">cd</span> djtrump
git pull origin master
</pre></div><p>Make sure <em>origin</em> refers to your fork of the app. Now, open the browser and type the server IP and you will see that the placeholder changed. Now, this is a very simple scenario. When we make changes to models or requirements, we will also have to run migrations, install dependencies and restart the nginx. Besides, we are not considering tests here. In the real world, you should run tests in the prodcution server as well and make sure everything is working.</p><p>Although, this is simple, it is very clumsy and error prone to do it manually. Wouldn't be great if you as a developer just pushed your code into the repository, leave the rest to be done by itself and be notified when everything is done?</p><p>This is exactly what we will do now. At the end, we will make some changes to the code and push it to the remote repo. Then, our jenkins server will pull the code, run the tests and if they pass successfully deploy the changes to the app server. After all this, it will also notify us through <a href="https://slack.com/">Slack</a>.</p><p>Cool right?!</p><p>Enough talk, let's fight!</p><h2>Create a new server and install Jenkins</h2><p>Go through exact same steps as in the <a href="http://rahmonov.me/posts/deploy-a-django-app-to-digitalocean/">previous post</a> to create a droplet with the only difference of name. Name it <em>djtrump-jenkins</em>. Wait a few seconds and when your server is ready, ssh into it:</p><div class="highlight"><pre><span></span>ssh root@192.241.166.116  // replace this IP address with yours
</pre></div><p>Install Jenkins:</p><div class="highlight"><pre><span></span>wget -q -O - https://pkg.jenkins.io/debian/jenkins-ci.org.key <span class="p">|</span> sudo apt-key add -
sudo sh -c <span class="s1">&#39;echo deb http://pkg.jenkins.io/debian-stable binary/ &gt; /etc/apt/sources.list.d/jenkins.list&#39;</span>
sudo apt-get update
sudo apt-get upgrade
sudo apt-get install jenkins
</pre></div><p>Now, if you go to JENKINS_IP_ADDRESS:8080 on your browser, you should see Jenkins up and running:</p><div class="gallery large"><a href="/static/images/post-images/jenkins-djtrump/jenkins-setup.png" rel="lightbox" title="Jenkins"><img src="/static/images/post-images/jenkins-djtrump/jenkins-setup.png" alt="Jenkins"><span>Jenkins setup page</span></a></div><p>Open to <em>/var/lib/jenkins/secrets/initialAdminPassword</em>, copy your password and paste it on the form. Click on Continue.</p><p>After a moment, <em>Customize Jenkins</em> page opens. There, click on <em>Select plugins to install</em>.</p><p>On this page, search for <em>Github</em> and <em>Pipeline</em> plugins and check them. Click install:</p><div class="gallery large"><a href="/static/images/post-images/jenkins-djtrump/jenkins-initial-plugins.png" rel="lightbox" title="Jenkins plugins"><img src="/static/images/post-images/jenkins-djtrump/jenkins-initial-plugins.png" alt="Jenkins plugins"><span>Jenkins plugins page</span></a></div><p>After everything installs, on the next page, fill in the details and create a user. Click on <em>Start using Jenkins</em>.</p><h2>Set up a Jenkins Job</h2><p>Click on <em>New Item</em> or <em>create new jobs</em> to get started.</p><p>On the new job page, name the item <em>DJTrump</em> and choose <em>Multibranch pipeline</em>:</p><div class="gallery large"><a href="/static/images/post-images/jenkins-djtrump/jenkins-new-job.png" rel="lightbox" title="Jenkins new job"><img src="/static/images/post-images/jenkins-djtrump/jenkins-new-job.png" alt="Jenkins new job"><span>Jenkins new job</span></a></div><p>On the configuration page, click on <em>Add source</em> and choose <em>Git</em>. Fill in the details of your repository in Github. Then, check <em>Periodically if not otherwise run</em> and leave the interval of 1 minute:</p><div class="gallery large"><a href="/static/images/post-images/jenkins-djtrump/jenkins-configure-job.png" rel="lightbox" title="Jenkins configure job"><img src="/static/images/post-images/jenkins-djtrump/jenkins-configure-job.png" alt="Jenkins configure job"><span>Jenkins configure job</span></a></div><p>Click <em>Save</em>. You will see that Jenkins will immediately start to build the project. As we chose Multibranch mode, it will start to build for all branches. However, you will see that both branches will fail:</p><div class="gallery large"><a href="/static/images/post-images/jenkins-djtrump/jenkins-failed-jobs.png" rel="lightbox" title="Jenkins failed"><img src="/static/images/post-images/jenkins-djtrump/jenkins-failed-jobs.png" alt="Jenkins failed"><span>Jenkins failed</span></a></div><p>To see what is going on, click on <em>master</em> and on the next page, click on <em>#1</em> in the <em>Build History</em> list. Then, on the next page, click on <em>Console Output</em> in the left sidebar. You will see the logs which show that Jenkins cloned the project and then encountered an error that says: <em>No such DSL method 'slackSend' found among steps</em>. So, it tried to notify us through slack that a Jenkins build started and it got this error:</p><div class="gallery large"><a href="/static/images/post-images/jenkins-djtrump/jenkins-failed-logs.png" rel="lightbox" title="Jenkins logs"><img src="/static/images/post-images/jenkins-djtrump/jenkins-failed-logs.png" alt="Jenkins logs"><span>Jenkins logs</span></a></div><p>But wait! How did Jenkins know what to do in the first place? How did it know that it should send a slack message saying that a build started?</p><p>If you go to the root folder of the project you will see a file named <em>Jenkinsfile</em>:</p><div class="highlight"><pre><span></span><span class="cp">#!groovy</span>

<span class="n">node</span> <span class="o">{</span>

    <span class="k">try</span> <span class="o">{</span>
        <span class="n">stage</span> <span class="s1">&#39;Checkout&#39;</span>
            <span class="n">checkout</span> <span class="n">scm</span>

            <span class="n">sh</span> <span class="s1">&#39;git log HEAD^..HEAD --pretty=&quot;%h %an - %s&quot; &gt; GIT_CHANGES&#39;</span>
            <span class="kt">def</span> <span class="n">lastChanges</span> <span class="o">=</span> <span class="n">readFile</span><span class="o">(</span><span class="s1">&#39;GIT_CHANGES&#39;</span><span class="o">)</span>
            <span class="n">slackSend</span> <span class="nl">color:</span> <span class="s2">&quot;warning&quot;</span><span class="o">,</span> <span class="nl">message:</span> <span class="s2">&quot;Started `${env.JOB_NAME}#${env.BUILD_NUMBER}`\n\n_The changes:_\n${lastChanges}&quot;</span>

        <span class="n">stage</span> <span class="s1">&#39;Test&#39;</span>
            <span class="n">sh</span> <span class="s1">&#39;virtualenv env -p python3.5&#39;</span>
            <span class="n">sh</span> <span class="s1">&#39;. env/bin/activate&#39;</span>
            <span class="n">sh</span> <span class="s1">&#39;env/bin/pip install -r requirements.txt&#39;</span>
            <span class="n">sh</span> <span class="s1">&#39;env/bin/python3.5 manage.py test --testrunner=djtrump.tests.test_runners.NoDbTestRunner&#39;</span>

        <span class="n">stage</span> <span class="s1">&#39;Deploy&#39;</span>
            <span class="n">sh</span> <span class="s1">&#39;./deployment/deploy_prod.sh&#39;</span>

        <span class="n">stage</span> <span class="s1">&#39;Publish results&#39;</span>
            <span class="n">slackSend</span> <span class="nl">color:</span> <span class="s2">&quot;good&quot;</span><span class="o">,</span> <span class="nl">message:</span> <span class="s2">&quot;Build successful: `${env.JOB_NAME}#${env.BUILD_NUMBER}` &lt;${env.BUILD_URL}|Open in Jenkins&gt;&quot;</span>
    <span class="o">}</span>

    <span class="k">catch</span> <span class="o">(</span><span class="n">err</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">slackSend</span> <span class="nl">color:</span> <span class="s2">&quot;danger&quot;</span><span class="o">,</span> <span class="nl">message:</span> <span class="s2">&quot;Build failed :face_with_head_bandage: \n`${env.JOB_NAME}#${env.BUILD_NUMBER}` &lt;${env.BUILD_URL}|Open in Jenkins&gt;&quot;</span>

        <span class="k">throw</span> <span class="n">err</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></div><p>This is where all the steps that Jenkins should follow are described. Let's break it down.</p><p>The first element you will notice is <em>node</em>. <em>Node</em> is a very crucial player which allocates an executor and workspace for the pipeline. Think of it as a worker that does the job. Inside node, there is one try/catch block. It is very simple. It tries to do something and if it fails it notifies us in Slack and throws error. Inside the <em>try</em> block, there are four stages. First, it pulls the code from the source control and notifies us in Slack that a build has started and what has changed in the code. We will see the end result later. Then, it runs tests which are located in the <code>djtrump/tests</code> folder. They are just a couple of simple tests which are intended for demonstration purposes only. Then, it runs the deployment script <code>deployment/deploy_prod.sh</code>. And finally, it will notify us that the build has been successful in Slack. </p><p>Now, let's see what is inside that deployment script:</p><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>

ssh root@104.236.57.112 <span class="s">&lt;&lt;EOF</span>
<span class="s">  cd djtrump</span>
<span class="s">  git pull</span>
<span class="s">  source /opt/envs/djtrump/bin/activate</span>
<span class="s">  pip install -r requirements.txt</span>
<span class="s">  ./manage.py migrate</span>
<span class="s">  sudo supervisorctl restart djtrump</span>
<span class="s">  exit</span>
<span class="s">EOF</span>
</pre></div><p>It is also very simple. We are sshing into our server, going to the project folder, pulling the code from the repository, activating the virtual environment, installing the requirements, running migrations and restarting the djtrump project with supervisor. Just like what we did when we manually updated our app in the server.</p><p>Now, let's get back to what the Jenkins error message was saying. It said that it could not find <em>slackSend</em> method. The reason is that we have not installed the Slack plugin. This is how Jenkins works, with the help of plugins. You want to work with Github, you install Github plugin. You want to work with Slack, you install the Slack plugin and etc. This is how it is done: Go to the main page and click on <em>Manage Jenkins</em>. There, choose <em>Manage Plugins</em>. Click on the Available tab and search for the <em>Slack Notification Plugin</em>. Check it and click on <em>Install without restart</em>. After it gets installed, click on <em>Restart Jenkins when installation is complete and no jobs are running</em>. </p><p>After it restarts, log in.</p><p>We also need to install Jenkins plugin on the Slack side. Assuming you already have a slack team, go to https://my.slack.com/services/new/jenkins-ci. There, choose #general channel and click on <em>Add Jenkins CI integration</em>:</p><div class="gallery large"><a href="/static/images/post-images/jenkins-djtrump/jenkins-slack.jpg" rel="lightbox" title="Jenkins Slack integration"><img src="/static/images/post-images/jenkins-djtrump/jenkins-slack.jpg" alt="Jenkins Slack integration"><span>Jenkins Slack integration</span></a></div><p>On the bottom of the next page, you will find some settings such as your Jenkins integration token. Save settings. Now, open another browser window. Go to your Jenkins server, navigate to <em>Manage Jenkins</em> -&gt; <em>Configure System</em> and find <em>Global Slack Notifier Settings</em> there. Fill in team subdomain, integration token and channel:</p><div class="gallery large"><a href="/static/images/post-images/jenkins-djtrump/jenkins-slack-config.png" rel="lightbox" title="Jenkins Slack config"><img src="/static/images/post-images/jenkins-djtrump/jenkins-slack-config.png" alt="Jenkins Slack config"><span>Jenkins Slack config</span></a></div><p>Save! </p><p>If you did everything correctly, slack messaging will work now. However, there are a couple more things we should do to avoid more errors. First of all, we should install virtualenv for python:</p><div class="highlight"><pre><span></span>ssh root@104.236.57.112  // replace this with the IP of your own Jenkins server
apt install python3-pip
pip3 install virtualenv
</pre></div><p>Now, we should install postgresql and create a database so that it will not complain while running tests. If you go to <code>djtrump/settings/base.py</code>, you will see that our database configuration looks like this:</p><div class="highlight"><pre><span></span><span class="nv">DATABASES</span> <span class="o">=</span> <span class="o">{</span>
    <span class="s1">&#39;default&#39;</span>: <span class="o">{</span>
        <span class="s1">&#39;ENGINE&#39;</span>: <span class="s1">&#39;django.db.backends.postgresql_psycopg2&#39;</span>,
        <span class="s1">&#39;NAME&#39;</span>: os.environ.get<span class="o">(</span><span class="s1">&#39;DATABASE_NAME&#39;</span>, <span class="s1">&#39;djtrump&#39;</span><span class="o">)</span>,
        <span class="s1">&#39;USER&#39;</span>: <span class="s1">&#39;djtrumpuser&#39;</span>,
        <span class="s1">&#39;PASSWORD&#39;</span>: <span class="s1">&#39;password&#39;</span>,
        <span class="s1">&#39;PORT&#39;</span>: <span class="s1">&#39;5432&#39;</span>,
    <span class="o">}</span>
<span class="o">}</span>
</pre></div><p>So, we should create a database with name <em>djtrump</em> whose owner is <em>djtrumpuser</em> with password <em>password</em>.</p><p>First, install postgresql:</p><div class="highlight"><pre><span></span>apt-get install postgresql postgresql-contrib
</pre></div><p>Log into the postgres interactive shell:</p><div class="highlight"><pre><span></span>sudo -u postgres psql
</pre></div><p>Create the database, the user and make the user owner of that database:</p><div class="highlight"><pre><span></span><span class="nv">postgres</span><span class="o">=</span><span class="c1"># CREATE DATABASE djtrump;</span>
<span class="nv">postgres</span><span class="o">=</span><span class="c1"># CREATE USER djtrumpuser WITH PASSWORD &#39;password&#39;;</span>
<span class="nv">postgres</span><span class="o">=</span><span class="c1"># GRANT ALL PRIVILEGES ON DATABASE djtrump TO djtrumpuser;</span>
<span class="nv">postgres</span><span class="o">=</span><span class="c1"># \q</span>
</pre></div><p>Now open <em>/etc/postgresql/9.5/main/pg_hba.conf</em>, find the line that says the following:</p><div class="highlight"><pre><span></span><span class="c1"># &quot;local&quot; is for Unix domain socket connections only</span>
<span class="nb">local</span>   all             all                        peer
</pre></div><p>and change <em>peer</em> to <em>md5</em> because we will be using username/password combination to connect to postgresql:</p><div class="highlight"><pre><span></span><span class="c1"># &quot;local&quot; is for Unix domain socket connections only</span>
<span class="nb">local</span>   all             all                        md5
</pre></div><p>Now, restart postgresql:</p><div class="highlight"><pre><span></span>sudo service postgresql restart
</pre></div><p>And there is one last thing that we should do. As we saw in the deployment script, we are sshing from the Jenkins server to the DJTrump app server. However, it is not allowed yet. To allow this, we need add the public key of the Jenkins server to the authorized keys of the app server. To do that, log in as <em>jenkins</em> user coz this is the user that will be running the jobs:</p><div class="highlight"><pre><span></span>sudo su - jenkins
</pre></div><p>Type this and do not enter passphrase:</p><div class="highlight"><pre><span></span>ssh-keygen -t rsa
</pre></div><p>Open ~/.ssh/id_rsa.pub and copy the content. Now, in another terminal tab ssh into the app server:</p><div class="highlight"><pre><span></span>ssh root@104.236.57.112   // replace the IP
</pre></div><p>Open ~/.ssh/authorized_keys and paste the public key you copied here. Save!</p><p>Now, check if you can ssh into the app server from the Jenkins server as the user <em>jenkins</em>. From the previous tab, type this:</p><div class="highlight"><pre><span></span>ssh root@104.236.57.112   // replace the IP
</pre></div><p>Type yes and you should see that you are connected without any password. Congrats! We should be all set.</p><p>Time to check!</p><p>Navigate to <em>Jenkins root</em> -&gt; <em>DJTrump</em> -&gt; <em>master</em> and once there click on <em>Build now</em> to start a build manually:</p><div class="gallery large"><a href="/static/images/post-images/jenkins-djtrump/jenkins-build-now.png" rel="lightbox" title="Jenkins Build"><img src="/static/images/post-images/jenkins-djtrump/jenkins-build-now.png" alt="Jenkins Build"></a></div><p>And you will see that it will start a build and go through all 4 stages we describe at the beginning:</p><div class="gallery large"><a href="/static/images/post-images/jenkins-djtrump/jenkins-successful-build.png" rel="lightbox" title="Jenkins successful build"><img src="/static/images/post-images/jenkins-djtrump/jenkins-successful-build.png" alt="Jenkins successful build"><span>Jenkins successful build</span></a></div><p>If you go to your Slack, you should see some messages in #general channel:</p><div class="gallery large"><a href="/static/images/post-images/jenkins-djtrump/jenkins-slack-notif.png" rel="lightbox" title="Slack notification"><img src="/static/images/post-images/jenkins-djtrump/jenkins-slack-notif.png" alt="Slack notification"><span>Slack notification</span></a></div><p>Awesome, right?! But that is not so good if we have to make build manually, right?</p><p>Fortunately, that's also taken care of. Go to your djtrump and make some kind of change. For example, change the placeholder again to read <em>NNAAAMMMEEE</em> like we did at the beginning of this tutorial. Then, stage and commit the changes:</p><div class="highlight"><pre><span></span>git commit -am <span class="s1">&#39;Change placeholder to read NNAAAMMMEEE&#39;</span>
</pre></div><p>In a minute, in your jenkins server you will see that the next build has started and ended successfully:</p><div class="gallery large"><a href="/static/images/post-images/jenkins-djtrump/jenkins-second-build.png" rel="lightbox" title="Jenkins next build"><img src="/static/images/post-images/jenkins-djtrump/jenkins-second-build.png" alt="Jenkins next build"><span>Jenkins next build</span></a></div><p>And if you visit your app, you will see that changes have taken place:</p><div class="gallery large"><a href="/static/images/post-images/jenkins-djtrump/new-build.png" rel="lightbox" title="New changes"><img src="/static/images/post-images/jenkins-djtrump/new-build.png" alt="New changes"><span>New changes</span></a></div><p>Hooray! Isn't awesome? You just pushed your code and everything else happened by "itself". Ther is even more. Check your slack. You have been notified about the start, what has changed and the end of the build. I love this kind of automation.</p><p>Now, go ahead and play around with it. Try to make one of the tests fail and you will see that the failing code will not be deployed! It will stop in the Test stage:</p><div class="gallery large"><a href="/static/images/post-images/jenkins-djtrump/test-fail.png" rel="lightbox" title="Failed test"><img src="/static/images/post-images/jenkins-djtrump/test-fail.png" alt="Failed test"><span>Test stage failed</span></a></div><p>In Slack, you will see this fun message:</p><div class="gallery large"><a href="/static/images/post-images/jenkins-djtrump/slack-test-fail.png" rel="lightbox" title="Slack message"><img src="/static/images/post-images/jenkins-djtrump/slack-test-fail.png" alt="Slack message"><span>Slack message about the failed Jenkins build</span></a></div><p>If you click on <em>Open in Jenkins</em> and you will taken to that exact failed build.</p><p>Once again, I love this kind of automation! And you should too!</p><p>Huh, that was quite a ride! We have learned a lot!</p><p>If you encountered a problem along the way, feel free to leave a commend or email me. Will be glad to help!</p><p>Fight on!</p></div><div class="pagination clearfix"><a class="prev" href="/posts/deploy-a-django-app-to-digitalocean/">« Previous</a><a class="next" href="/posts/testcase-vs-transactiontestcase-in-django/">Next »</a></ul></div><p><div class="likely likely-big"><div class="facebook">Share</div><div class="twitter" data-via="rahmon0v">Tweet</div><div class="telegram">Send</div><div class="linkedin">Share</div></div></p><div class="end"><span> If you liked what you read, subscribe below. Once in a while, I will send you a list of my new posts. </span><div id="popup"><p><link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css"><style type="text/css">
                #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
                /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
                   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
            </style><div id="mc_embed_signup"><form action="//rahmonov.us16.list-manage.com/subscribe/post?u=9e30bdfdfe0a7bd7cf7e0d50a&id=af3f3c5f76" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate><div id="mc_embed_signup_scroll"><div class="indicates-required"><span class="asterisk">*</span> indicates required</div><div class="mc-field-group"><label for="mce-MMERGE1">Name </label><input type="text" value name="MMERGE1" class id="mce-MMERGE1"></div><div class="mc-field-group"><label for="mce-EMAIL">Email Address <span class="asterisk">*</span></label><input type="email" value name="EMAIL" class="required email" id="mce-EMAIL"></div><div id="mce-responses" class="clear"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div> <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_9e30bdfdfe0a7bd7cf7e0d50a_af3f3c5f76" tabindex="-1" value></div><div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div></div></form></div></p></div></div><div id="disqus_thread"></div><script type="text/javascript">
        /* * * CONFIGURATION VARIABLES * * */
        var disqus_shortname = 'jrahmonov';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div></div><script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-67392250-1', 'auto');
      ga('send', 'pageview');
    </script><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script><script src="/static/js/mobile.js"></script><script src="/static/vendor/lightbox2/js/lightbox.min.js"></script><script src="/static/"></script></body></html>